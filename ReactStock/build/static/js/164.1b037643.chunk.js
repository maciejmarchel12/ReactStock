/*! For license information please see 164.1b037643.chunk.js.LICENSE.txt */
(self.webpackChunkfyp2024=self.webpackChunkfyp2024||[]).push([[164],{1811:(e,t,n)=>{"use strict";n.d(t,{A:()=>b});var r=n(5043),o=n(3949),a=n(3216),i=n(5795),c=n(1906),s=n(6446),l=n(6990),u=n(598),d=n(3193),p=n(9190),f=n(1325),m=n(4535),h=n(579);const y=(0,m.Ay)(i.A)((e=>{let{theme:t}=e;return{"& .MuiInputLabel-root.Mui-focused":{borderColor:t.palette.outline.main},"& .MuiOutlinedInput-root:hover .MuiOutlinedInput-notchedOutline":{borderColor:t.palette.outline.main},"& .MuiOutlinedInput-root.Mui-focused .MuiOutlinedInput-notchedOutline":{borderColor:t.palette.outline.main},backgroundColor:t.palette.field.main}})),g=(0,m.Ay)(d.A)((e=>{let{theme:t}=e;return{"& .MuiInputLabel-root.Mui-focused":{borderColor:t.palette.outline.main},"& .MuiOutlinedInput-root:hover .MuiOutlinedInput-notchedOutline":{borderColor:t.palette.outline.main},"& .MuiOutlinedInput-root.Mui-focused .MuiOutlinedInput-notchedOutline":{borderColor:t.palette.outline.main},backgroundColor:t.palette.field.main}})),v=(0,m.Ay)(u.A)((e=>{let{theme:t}=e;return{"& .MuiInputLabel-root.Mui-focused":{borderColor:t.palette.outline.main},"& .MuiOutlinedInput-root:hover .MuiOutlinedInput-notchedOutline":{borderColor:t.palette.outline.main},"& .MuiOutlinedInput-root.Mui-focused .MuiOutlinedInput-notchedOutline":{borderColor:t.palette.outline.main},backgroundColor:t.palette.field.main}})),b=e=>{let{initialValues:t,onSubmit:n}=e;const[i,u]=(0,r.useState)(t),d=(0,a.Zp)(),m=(0,f.DP)(),b=e=>{const{name:t,value:n}=e.target;u({...i,[t]:n})};return(0,h.jsx)(s.A,{display:"flex",flexDirection:"column",alignItems:"center",mt:5,style:{paddingTop:64},children:(0,h.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{t._id?await(0,o.FJ)(t._id,i):await(0,o.WY)(i),n(),d("/inventoryPage")}catch(r){console.error("Error submitting product form:",r)}},children:[(0,h.jsx)(s.A,{mb:2,children:(0,h.jsx)(y,{label:"Product Name",name:"productName",value:i.productName,onChange:b,required:!0,theme:m})}),(0,h.jsx)(s.A,{mb:2,children:(0,h.jsx)(y,{label:"Image URL",name:"image",value:i.image,onChange:b,required:!0,theme:m})}),(0,h.jsx)(s.A,{mb:2,children:(0,h.jsx)(y,{label:"Product Type",name:"productType",value:i.productType,onChange:b,required:!0,theme:m})}),(0,h.jsx)(s.A,{mb:2,children:(0,h.jsx)(y,{label:"Barcode",name:"barcode",value:i.barcode,onChange:b,required:!0,theme:m})}),(0,h.jsx)(s.A,{mb:2,children:(0,h.jsx)(y,{label:"Amount Available",name:"amountAvailable",type:"number",value:i.amountAvailable,onChange:b,required:!0,theme:m})}),(0,h.jsx)(s.A,{mb:2,children:(0,h.jsxs)(g,{fullWidth:!0,theme:m,children:[(0,h.jsx)(p.A,{id:"store-location-label",children:"Store Location"}),(0,h.jsxs)(v,{labelId:"store-location-label",id:"store-location-select",name:"storeLocation",value:i.storeLocation,onChange:b,required:!0,theme:m,children:[(0,h.jsx)(l.A,{value:"OnSite",children:"OnSite"}),(0,h.jsx)(l.A,{value:"Online",children:"Online"})]})]})}),(0,h.jsx)(c.A,{type:"submit",variant:"contained",style:{backgroundColor:m.palette.primary.main},children:"Save Changes"})]})})}},4164:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>q});var r=n(5043),o=n(2110),a=n(6494),i=n(5865),c=n(8587),s=n(8168),l=n(9292),u=n(8606),d=n(2876),p=n(4535),f=n(7056),m=n(2400);function h(e){return(0,m.Ay)("MuiCardMedia",e)}(0,f.A)("MuiCardMedia",["root","media","img"]);var y=n(579);const g=["children","className","component","image","src","style"],v=(0,p.Ay)("div",{name:"MuiCardMedia",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e,{isMediaComponent:r,isImageComponent:o}=n;return[t.root,r&&t.media,o&&t.img]}})((e=>{let{ownerState:t}=e;return(0,s.A)({display:"block",backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center"},t.isMediaComponent&&{width:"100%"},t.isImageComponent&&{objectFit:"cover"})})),b=["video","audio","picture","iframe","img"],C=["picture","img"],A=r.forwardRef((function(e,t){const n=(0,d.A)({props:e,name:"MuiCardMedia"}),{children:r,className:o,component:a="div",image:i,src:p,style:f}=n,m=(0,c.A)(n,g),A=-1!==b.indexOf(a),x=!A&&i?(0,s.A)({backgroundImage:'url("'.concat(i,'")')},f):f,S=(0,s.A)({},n,{component:a,isMediaComponent:A,isImageComponent:-1!==C.indexOf(a)}),w=(e=>{const{classes:t,isMediaComponent:n,isImageComponent:r}=e,o={root:["root",n&&"media",r&&"img"]};return(0,u.A)(o,h,t)})(S);return(0,y.jsx)(v,(0,s.A)({className:(0,l.A)(w.root,o),as:a,role:!A&&i?"img":void 0,ref:t,style:x,ownerState:S,src:A?i||p:void 0},m,{children:r}))}));var x=n(1906),S=n(6060),w=n(7160),j=n(1325);const O=(0,S.A)(o.A)({width:200,height:500,marginBottom:16}),M=(0,S.A)(A)({height:"50%",width:"100%",objectFit:"contain"}),k=e=>{let{_id:t,productName:n,image:o,productType:c,barcode:s,amountAvailable:l,storeLocation:u,onEdit:d,onDelete:p}=e;const{isAuthenticated:f,permissionLevel:m}=(0,r.useContext)(w.c),h=(0,j.DP)();console.log("isAuthenticated:",f),console.log("permissionLevel:",m);return(0,y.jsxs)(O,{style:{backgroundColor:h.palette.field.main},children:[(0,y.jsx)(M,{component:"img",src:o,alt:n}),(0,y.jsxs)(a.A,{children:[(0,y.jsx)(i.A,{gutterBottom:!0,variant:"h5",component:"div",title:n,children:n}),(0,y.jsxs)(i.A,{variant:"body2",color:"text.secondary",children:["Type: ",c]}),(0,y.jsxs)(i.A,{variant:"body2",color:"text.secondary",children:["Barcode: ",s]}),(0,y.jsxs)(i.A,{variant:"body2",color:"text.secondary",children:["Amount Available: ",l]}),(0,y.jsxs)(i.A,{variant:"body2",color:"text.secondary",children:["Store Location: ",u]}),(0,y.jsx)(x.A,{variant:"contained",style:{backgroundColor:h.palette.primary.main},onClick:()=>{d({_id:t,productName:n,image:o,productType:c,barcode:s,amountAvailable:l,storeLocation:u})},children:"Edit"}),f&&("admin"===m||"manager"===m)&&(0,y.jsx)(y.Fragment,{children:(0,y.jsx)(x.A,{variant:"contained",style:{backgroundColor:h.palette.secondary.main},onClick:()=>{p(t)},children:"Delete"})})]})]})};var T=n(1811),I=n(5795),P=n(8903),_=n(6990);const R=(0,p.Ay)(I.A)((e=>{let{theme:t}=e;return{"& .MuiInputLabel-root.Mui-focused":{borderColor:t.palette.outline.main},"& .MuiOutlinedInput-root:hover .MuiOutlinedInput-notchedOutline":{borderColor:t.palette.outline.main},"& .MuiOutlinedInput-root.Mui-focused .MuiOutlinedInput-notchedOutline":{borderColor:t.palette.outline.main},backgroundColor:t.palette.field.main}})),E=e=>{let{onSearch:t,onFilter:n,classes:o}=e;const[a,i]=r.useState(""),[c,s]=r.useState(""),l=(0,j.DP)();return(0,y.jsxs)(P.Ay,{container:!0,spacing:2,alignItems:"center",style:{marginBottom:"16px"},children:[(0,y.jsx)(P.Ay,{item:!0,xs:12,sm:4,children:(0,y.jsx)(R,{label:"Search by Product Name, Barcode, or Type",variant:"outlined",value:a,onChange:e=>{i(e.target.value),t(e.target.value)},fullWidth:!0,theme:l})}),(0,y.jsx)(P.Ay,{item:!0,xs:12,sm:4,children:(0,y.jsxs)(R,{select:!0,label:"Filter by Store Location",variant:"outlined",value:c,onChange:e=>{s(e.target.value),n(e.target.value)},fullWidth:!0,theme:l,children:[(0,y.jsx)(_.A,{value:"",children:"All"}),(0,y.jsx)(_.A,{value:"OnSite",children:"OnSite"}),(0,y.jsx)(_.A,{value:"Online",children:"Online"})]})})]})};var D=n(3949),B=n(9252),L=n(8096),N=(n(2342),n(6490)),W=n(3216);const $=e=>{let{onBarcodeScanned:t,isSubtractMode:n}=e;const o=(0,W.Zp)(),a=(0,j.DP)(),i=(0,r.useCallback)((async e=>{try{console.log("Is Subtract Mode:",n);await(0,D.IR)(e,n)?t():console.log("Product not found")}catch(r){console.error("Error fetching product:",r)}}),[n,t]);(0,r.useEffect)((()=>{}),[n,i]);return(0,y.jsxs)("div",{children:[(0,y.jsx)(N.A,{onError:e=>console.error("Error reading barcode:",e),onScan:i,resolution:640,facingMode:"environment",constraints:{width:640,height:480},style:{width:"100%",height:"100%"}}),(0,y.jsx)("button",{style:{backgroundColor:a.palette.primary.main},onClick:()=>{o("/inventoryPage")},children:"Toggle Subtract Mode"})]})};var F=n(5397);const V=e=>{let{isSubtractMode:t,setIsSubtractMode:n}=e;const[o,a]=(0,r.useState)(!1),i=(0,j.DP)();return(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(x.A,{variant:"contained",style:{backgroundColor:i.palette.primary.main},onClick:()=>{n(!t),a(!0),console.log("Toggle subtract mode:",!t)},children:t?"Disable Subtract Mode":"Enable Subtract Mode"}),(0,y.jsx)(F.A,{open:o,autoHideDuration:2e3,onClose:()=>{a(!1)},message:t?"Subtract Mode Enabled":"Subtract Mode Disabled"})]})},q=()=>{const[e,t]=(0,r.useState)([]),[n,o]=(0,r.useState)(null),[a,i]=(0,r.useState)([]),[c,s]=(0,r.useState)(!0),l=(0,j.DP)();(0,r.useEffect)((()=>{d()}),[]),(0,r.useEffect)((()=>{e.forEach(u)}),[e]);const u=e=>{console.log("Checking amount available for ".concat(e.productName)),e.amountAvailable<=15&&(console.log("".concat(e.productName," is low in stock!")),L.oR.warning("".concat(e.productName," is low in stock!"),{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}))},d=async()=>{try{const e=await(0,D.AS)();console.log("Fetched inventory:",e),t(e),i(e)}catch(e){console.error("Error fetching inventory:",e)}},p=e=>{o(e)},f=async e=>{if(window.confirm("Are you sure you want to delete this product?"))try{await(0,D.TZ)(e),t((t=>t.filter((t=>t.id!==e)))),i((t=>t.filter((t=>t.id!==e)))),await d()}catch(n){console.error("Error deleting product:",n)}};return(0,y.jsxs)("div",{style:{backgroundColor:l.palette.background.bkg,minHeight:"100vh"},children:[(0,y.jsx)($,{onBarcodeScanned:async()=>{await d()},isSubtractMode:c}),(0,y.jsxs)(B.A,{maxWidth:"xl",style:{marginTop:"24px",paddingTop:64,paddingBottom:98},children:[(0,y.jsx)(E,{onSearch:t=>{const n=e.filter((e=>["productName","barcode","productType"].some((n=>e[n].toLowerCase().includes(t.toLowerCase())))));i(n)},onFilter:t=>{if(""===t)i(e);else{const n=e.filter((e=>e.storeLocation===t));i(n)}}}),(0,y.jsx)(V,{isSubtractMode:c,setIsSubtractMode:s}),n?(0,y.jsx)(T.A,{initialValues:n,onSubmit:async()=>{try{await d(),o(null)}catch(e){console.error("Error handling form submission:",e)}}}):(0,y.jsx)(P.Ay,{container:!0,spacing:3,style:{margin:"0px"},children:a.map((e=>(0,y.jsx)(P.Ay,{item:!0,children:(0,y.jsx)(k,{...e,onEdit:p,onDelete:f})},e._id)))})]})]})}},6446:(e,t,n)=>{"use strict";n.d(t,{A:()=>b});var r=n(8168),o=n(8587),a=n(5043),i=n(1576),c=n(3174),s=n(8812),l=n(8698),u=n(8653),d=n(579);const p=["className","component"];var f=n(5430),m=n(8279),h=n(3375);const y=(0,n(7056).A)("MuiBox",["root"]),g=(0,m.A)(),v=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{themeId:t,defaultTheme:n,defaultClassName:f="MuiBox-root",generateClassName:m}=e,h=(0,c.default)("div",{shouldForwardProp:e=>"theme"!==e&&"sx"!==e&&"as"!==e})(s.A);return a.forwardRef((function(e,a){const c=(0,u.A)(n),s=(0,l.A)(e),{className:y,component:g="div"}=s,v=(0,o.A)(s,p);return(0,d.jsx)(h,(0,r.A)({as:g,ref:a,className:(0,i.A)(y,m?m(f):f),theme:t&&c[t]||c},v))}))}({themeId:h.A,defaultTheme:g,defaultClassName:y.root,generateClassName:f.A.generate}),b=v},6494:(e,t,n)=>{"use strict";n.d(t,{A:()=>y});var r=n(8168),o=n(8587),a=n(5043),i=n(9292),c=n(8606),s=n(4535),l=n(2876),u=n(7056),d=n(2400);function p(e){return(0,d.Ay)("MuiCardContent",e)}(0,u.A)("MuiCardContent",["root"]);var f=n(579);const m=["className","component"],h=(0,s.Ay)("div",{name:"MuiCardContent",slot:"Root",overridesResolver:(e,t)=>t.root})((()=>({padding:16,"&:last-child":{paddingBottom:24}}))),y=a.forwardRef((function(e,t){const n=(0,l.A)({props:e,name:"MuiCardContent"}),{className:a,component:s="div"}=n,u=(0,o.A)(n,m),d=(0,r.A)({},n,{component:s}),y=(e=>{const{classes:t}=e;return(0,c.A)({root:["root"]},p,t)})(d);return(0,f.jsx)(h,(0,r.A)({as:s,className:(0,i.A)(y.root,a),ownerState:d,ref:t},u))}))},2110:(e,t,n)=>{"use strict";n.d(t,{A:()=>g});var r=n(8168),o=n(8587),a=n(5043),i=n(9292),c=n(8606),s=n(4535),l=n(2876),u=n(3336),d=n(7056),p=n(2400);function f(e){return(0,p.Ay)("MuiCard",e)}(0,d.A)("MuiCard",["root"]);var m=n(579);const h=["className","raised"],y=(0,s.Ay)(u.A,{name:"MuiCard",slot:"Root",overridesResolver:(e,t)=>t.root})((()=>({overflow:"hidden"}))),g=a.forwardRef((function(e,t){const n=(0,l.A)({props:e,name:"MuiCard"}),{className:a,raised:s=!1}=n,u=(0,o.A)(n,h),d=(0,r.A)({},n,{raised:s}),p=(e=>{const{classes:t}=e;return(0,c.A)({root:["root"]},f,t)})(d);return(0,m.jsx)(y,(0,r.A)({className:(0,i.A)(p.root,a),elevation:s?8:void 0,ref:t,ownerState:d},u))}))},6990:(e,t,n)=>{"use strict";n.d(t,{A:()=>O});var r=n(8587),o=n(8168),a=n(5043),i=n(9292),c=n(8606),s=n(7266),l=n(4535),u=n(1475),d=n(2876),p=n(1347),f=n(1538),m=n(5013),h=n(5849),y=n(7056);const g=(0,y.A)("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]);const v=(0,y.A)("MuiListItemIcon",["root","alignItemsFlexStart"]);var b=n(5671),C=n(2400);function A(e){return(0,C.Ay)("MuiMenuItem",e)}const x=(0,y.A)("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]);var S=n(579);const w=["autoFocus","component","dense","divider","disableGutters","focusVisibleClassName","role","tabIndex","className"],j=(0,l.Ay)(f.A,{shouldForwardProp:e=>(0,u.A)(e)||"classes"===e,name:"MuiMenuItem",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.dense&&t.dense,n.divider&&t.divider,!n.disableGutters&&t.gutters]}})((e=>{let{theme:t,ownerState:n}=e;return(0,o.A)({},t.typography.body1,{display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap"},!n.disableGutters&&{paddingLeft:16,paddingRight:16},n.divider&&{borderBottom:"1px solid ".concat((t.vars||t).palette.divider),backgroundClip:"padding-box"},{"&:hover":{textDecoration:"none",backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},["&.".concat(x.selected)]:{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.primary.mainChannel," / ").concat(t.vars.palette.action.selectedOpacity,")"):(0,s.X4)(t.palette.primary.main,t.palette.action.selectedOpacity),["&.".concat(x.focusVisible)]:{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.primary.mainChannel," / calc(").concat(t.vars.palette.action.selectedOpacity," + ").concat(t.vars.palette.action.focusOpacity,"))"):(0,s.X4)(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}},["&.".concat(x.selected,":hover")]:{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.primary.mainChannel," / calc(").concat(t.vars.palette.action.selectedOpacity," + ").concat(t.vars.palette.action.hoverOpacity,"))"):(0,s.X4)(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.primary.mainChannel," / ").concat(t.vars.palette.action.selectedOpacity,")"):(0,s.X4)(t.palette.primary.main,t.palette.action.selectedOpacity)}},["&.".concat(x.focusVisible)]:{backgroundColor:(t.vars||t).palette.action.focus},["&.".concat(x.disabled)]:{opacity:(t.vars||t).palette.action.disabledOpacity},["& + .".concat(g.root)]:{marginTop:t.spacing(1),marginBottom:t.spacing(1)},["& + .".concat(g.inset)]:{marginLeft:52},["& .".concat(b.A.root)]:{marginTop:0,marginBottom:0},["& .".concat(b.A.inset)]:{paddingLeft:36},["& .".concat(v.root)]:{minWidth:36}},!n.dense&&{[t.breakpoints.up("sm")]:{minHeight:"auto"}},n.dense&&(0,o.A)({minHeight:32,paddingTop:4,paddingBottom:4},t.typography.body2,{["& .".concat(v.root," svg")]:{fontSize:"1.25rem"}}))})),O=a.forwardRef((function(e,t){const n=(0,d.A)({props:e,name:"MuiMenuItem"}),{autoFocus:s=!1,component:l="li",dense:u=!1,divider:f=!1,disableGutters:y=!1,focusVisibleClassName:g,role:v="menuitem",tabIndex:b,className:C}=n,x=(0,r.A)(n,w),O=a.useContext(p.A),M=a.useMemo((()=>({dense:u||O.dense||!1,disableGutters:y})),[O.dense,u,y]),k=a.useRef(null);(0,m.A)((()=>{s&&k.current&&k.current.focus()}),[s]);const T=(0,o.A)({},n,{dense:M.dense,divider:f,disableGutters:y}),I=(e=>{const{disabled:t,dense:n,divider:r,disableGutters:a,selected:i,classes:s}=e,l={root:["root",n&&"dense",t&&"disabled",!a&&"gutters",r&&"divider",i&&"selected"]},u=(0,c.A)(l,A,s);return(0,o.A)({},s,u)})(n),P=(0,h.A)(k,t);let _;return n.disabled||(_=void 0!==b?b:-1),(0,S.jsx)(p.A.Provider,{value:M,children:(0,S.jsx)(j,(0,o.A)({ref:P,role:v,tabIndex:_,component:l,focusVisibleClassName:(0,i.A)(I.focusVisible,g),className:(0,i.A)(I.root,C)},x,{ownerState:T,classes:I}))})}))},1497:(e,t,n)=>{"use strict";var r=n(3218);function o(){}function a(){}a.resetWarningCache=o,e.exports=function(){function e(e,t,n,o,a,i){if(i!==r){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:o};return n.PropTypes=n,n}},5173:(e,t,n)=>{e.exports=n(1497)()},3218:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},6490:(e,t,n)=>{"use strict";t.A=void 0;var r=a(n(4677)),o=a(n(5173));function a(e){return e&&e.__esModule?e:{default:e}}function i(e){return i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e){return function(){var t,n=u(e);if(function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}()){var r=u(this).constructor;t=Reflect.construct(n,arguments,r)}else t=n.apply(this,arguments);return function(e,t){if(t&&("object"===i(t)||"function"===typeof t))return t;return l(e)}(this,t)}}function l(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e){return u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},u(e)}function d(e,t){return d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},d(e,t)}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f(){try{return window.self!==window.top}catch(e){return!0}}var m=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(a,e);var t,n,r,o=s(a);function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),p(l(t=o.call(this,e)),"initScannerDetection",(function(){t.firstCharTime=0,t.stringWriting="",t.scanButtonCounter=0})),p(l(t),"scannerDetectionTest",(function(e){var n=t.props,r=n.minLength,o=n.avgTimeByChar,a=n.onScanButtonLongPressed,i=n.scanButtonLongPressThreshold,c=n.onScan,s=n.onError;if(e&&(t.firstCharTime=0,t.lastCharTime=0,t.stringWriting=e),t.scanButtonCounter||(t.scanButtonCounter=1),t.stringWriting.length>=r&&t.lastCharTime-t.firstCharTime<t.stringWriting.length*o)return a&&t.scanButtonCounter>i?a(t.stringWriting,t.scanButtonCounter):c&&c(t.stringWriting,t.scanButtonCounter),t.initScannerDetection(),!0;var l="";return t.stringWriting.length<r?l="String length should be greater or equal ".concat(r):t.lastCharTime-t.firstCharTime>t.stringWriting.length*o&&(l="Average key character time should be less or equal ".concat(o,"ms")),s&&s(t.stringWriting,l),t.initScannerDetection(),!1})),p(l(t),"handleKeyPress",(function(e){var n=t.props,r=n.onKeyDetect,o=n.onReceive,a=n.scanButtonKeyCode,i=n.stopPropagation,c=n.preventDefault,s=n.endChar,l=n.startChar,u=n.timeBeforeScanTest,d=e.target;d instanceof window.HTMLElement&&function(e){if(!e)return!1;var t=e.tagName,n=function(e){return"function"===typeof e.getAttribute&&!!e.getAttribute("contenteditable")}(e);return"INPUT"===t||"TEXTAREA"===t||n}(d)||(a&&e.which===a&&(t.scanButtonCounter+=1,e.preventDefault(),e.stopImmediatePropagation()),r&&r(e),i&&e.stopImmediatePropagation(),c&&e.preventDefault(),t.firstCharTime&&-1!==s.indexOf(e.which)?(e.preventDefault(),e.stopImmediatePropagation(),t.callIsScanner=!0):t.firstCharTime||-1===l.indexOf(e.which)?("undefined"!==typeof e.which&&(t.stringWriting+=String.fromCharCode(e.which)),t.callIsScanner=!1):(e.preventDefault(),e.stopImmediatePropagation(),t.callIsScanner=!1),t.firstCharTime||(t.firstCharTime=Date.now()),t.lastCharTime=Date.now(),t.testTimer&&clearTimeout(t.testTimer),t.callIsScanner?(t.scannerDetectionTest(),t.testTimer=!1):t.testTimer=setTimeout(t.scannerDetectionTest,u),o&&o(e))})),t.firstCharTime=0,t.lastCharTime=0,t.stringWriting="",t.callIsScanner=!1,t.testTimer=!1,t.scanButtonCounter=0,t}return t=a,(n=[{key:"componentDidMount",value:function(){f&&window.parent.document.addEventListener("keypress",this.handleKeyPress),window.document.addEventListener("keypress",this.handleKeyPress)}},{key:"componentWillUnmount",value:function(){f&&window.parent.document.removeEventListener("keypress",this.handleKeyPress),window.document.removeEventListener("keypress",this.handleKeyPress)}},{key:"render",value:function(){return this.props.testCode&&this.scannerDetectionTest(this.props.testCode),null}}])&&c(t.prototype,n),r&&c(t,r),a}(r.default.Component);m.propTypes={onScan:o.default.func,onError:o.default.func,onReceive:o.default.func,onKeyDetect:o.default.func,timeBeforeScanTest:o.default.number,avgTimeByChar:o.default.number,minLength:o.default.number,endChar:o.default.arrayOf(o.default.number),startChar:o.default.arrayOf(o.default.number),scanButtonKeyCode:o.default.number,scanButtonLongPressThreshold:o.default.number,onScanButtonLongPressed:o.default.func,stopPropagation:o.default.bool,preventDefault:o.default.bool,testCode:o.default.string},m.defaultProps={timeBeforeScanTest:100,avgTimeByChar:30,minLength:6,endChar:[9,13],startChar:[],scanButtonLongPressThreshold:3,stopPropagation:!1,preventDefault:!1};var h=m;t.A=h},5156:(e,t,n)=>{"use strict";var r=n(2123),o="function"===typeof Symbol&&Symbol.for,a=o?Symbol.for("react.element"):60103,i=o?Symbol.for("react.portal"):60106,c=o?Symbol.for("react.fragment"):60107,s=o?Symbol.for("react.strict_mode"):60108,l=o?Symbol.for("react.profiler"):60114,u=o?Symbol.for("react.provider"):60109,d=o?Symbol.for("react.context"):60110,p=o?Symbol.for("react.forward_ref"):60112,f=o?Symbol.for("react.suspense"):60113,m=o?Symbol.for("react.memo"):60115,h=o?Symbol.for("react.lazy"):60116,y="function"===typeof Symbol&&Symbol.iterator;function g(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b={};function C(e,t,n){this.props=e,this.context=t,this.refs=b,this.updater=n||v}function A(){}function x(e,t,n){this.props=e,this.context=t,this.refs=b,this.updater=n||v}C.prototype.isReactComponent={},C.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error(g(85));this.updater.enqueueSetState(this,e,t,"setState")},C.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},A.prototype=C.prototype;var S=x.prototype=new A;S.constructor=x,r(S,C.prototype),S.isPureReactComponent=!0;var w={current:null},j=Object.prototype.hasOwnProperty,O={key:!0,ref:!0,__self:!0,__source:!0};function M(e,t,n){var r,o={},i=null,c=null;if(null!=t)for(r in void 0!==t.ref&&(c=t.ref),void 0!==t.key&&(i=""+t.key),t)j.call(t,r)&&!O.hasOwnProperty(r)&&(o[r]=t[r]);var s=arguments.length-2;if(1===s)o.children=n;else if(1<s){for(var l=Array(s),u=0;u<s;u++)l[u]=arguments[u+2];o.children=l}if(e&&e.defaultProps)for(r in s=e.defaultProps)void 0===o[r]&&(o[r]=s[r]);return{$$typeof:a,type:e,key:i,ref:c,props:o,_owner:w.current}}function k(e){return"object"===typeof e&&null!==e&&e.$$typeof===a}var T=/\/+/g,I=[];function P(e,t,n,r){if(I.length){var o=I.pop();return o.result=e,o.keyPrefix=t,o.func=n,o.context=r,o.count=0,o}return{result:e,keyPrefix:t,func:n,context:r,count:0}}function _(e){e.result=null,e.keyPrefix=null,e.func=null,e.context=null,e.count=0,10>I.length&&I.push(e)}function R(e,t,n,r){var o=typeof e;"undefined"!==o&&"boolean"!==o||(e=null);var c=!1;if(null===e)c=!0;else switch(o){case"string":case"number":c=!0;break;case"object":switch(e.$$typeof){case a:case i:c=!0}}if(c)return n(r,e,""===t?"."+D(e,0):t),1;if(c=0,t=""===t?".":t+":",Array.isArray(e))for(var s=0;s<e.length;s++){var l=t+D(o=e[s],s);c+=R(o,l,n,r)}else if(null===e||"object"!==typeof e?l=null:l="function"===typeof(l=y&&e[y]||e["@@iterator"])?l:null,"function"===typeof l)for(e=l.call(e),s=0;!(o=e.next()).done;)c+=R(o=o.value,l=t+D(o,s++),n,r);else if("object"===o)throw n=""+e,Error(g(31,"[object Object]"===n?"object with keys {"+Object.keys(e).join(", ")+"}":n,""));return c}function E(e,t,n){return null==e?0:R(e,"",t,n)}function D(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+(""+e).replace(/[=:]/g,(function(e){return t[e]}))}(e.key):t.toString(36)}function B(e,t){e.func.call(e.context,t,e.count++)}function L(e,t,n){var r=e.result,o=e.keyPrefix;e=e.func.call(e.context,t,e.count++),Array.isArray(e)?N(e,r,n,(function(e){return e})):null!=e&&(k(e)&&(e=function(e,t){return{$$typeof:a,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(e,o+(!e.key||t&&t.key===e.key?"":(""+e.key).replace(T,"$&/")+"/")+n)),r.push(e))}function N(e,t,n,r,o){var a="";null!=n&&(a=(""+n).replace(T,"$&/")+"/"),E(e,L,t=P(t,a,r,o)),_(t)}var W={current:null};function $(){var e=W.current;if(null===e)throw Error(g(321));return e}var F={ReactCurrentDispatcher:W,ReactCurrentBatchConfig:{suspense:null},ReactCurrentOwner:w,IsSomeRendererActing:{current:!1},assign:r};t.Children={map:function(e,t,n){if(null==e)return e;var r=[];return N(e,r,null,t,n),r},forEach:function(e,t,n){if(null==e)return e;E(e,B,t=P(null,null,t,n)),_(t)},count:function(e){return E(e,(function(){return null}),null)},toArray:function(e){var t=[];return N(e,t,null,(function(e){return e})),t},only:function(e){if(!k(e))throw Error(g(143));return e}},t.Component=C,t.Fragment=c,t.Profiler=l,t.PureComponent=x,t.StrictMode=s,t.Suspense=f,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=F,t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error(g(267,e));var o=r({},e.props),i=e.key,c=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(c=t.ref,s=w.current),void 0!==t.key&&(i=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(u in t)j.call(t,u)&&!O.hasOwnProperty(u)&&(o[u]=void 0===t[u]&&void 0!==l?l[u]:t[u])}var u=arguments.length-2;if(1===u)o.children=n;else if(1<u){l=Array(u);for(var d=0;d<u;d++)l[d]=arguments[d+2];o.children=l}return{$$typeof:a,type:e.type,key:i,ref:c,props:o,_owner:s}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:d,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:u,_context:e},e.Consumer=e},t.createElement=M,t.createFactory=function(e){var t=M.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:p,render:e}},t.isValidElement=k,t.lazy=function(e){return{$$typeof:h,_ctor:e,_status:-1,_result:null}},t.memo=function(e,t){return{$$typeof:m,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return $().useCallback(e,t)},t.useContext=function(e,t){return $().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return $().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return $().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return $().useLayoutEffect(e,t)},t.useMemo=function(e,t){return $().useMemo(e,t)},t.useReducer=function(e,t,n){return $().useReducer(e,t,n)},t.useRef=function(e){return $().useRef(e)},t.useState=function(e){return $().useState(e)},t.version="16.14.0"},4677:(e,t,n)=>{"use strict";e.exports=n(5156)}}]);
//# sourceMappingURL=164.1b037643.chunk.js.map