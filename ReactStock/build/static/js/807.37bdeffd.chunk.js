"use strict";(self.webpackChunkfyp2024=self.webpackChunkfyp2024||[]).push([[807],{9807:(e,t,a)=>{a.r(t),a.d(t,{default:()=>f});var o=a(5043),n=a(3216),r=a(3949),i=a(7160),s=a(5795),l=a(9252),c=a(5865),d=a(6446),u=a(6990),p=a(1906),m=a(5397),g=a(1325),h=a(4535),v=a(579);const b=(0,h.Ay)(s.A)((e=>{let{theme:t}=e;return{"& .MuiInputLabel-root.Mui-focused":{borderColor:t.palette.outline.main},"& .MuiOutlinedInput-root:hover .MuiOutlinedInput-notchedOutline":{borderColor:t.palette.outline.main},"& .MuiOutlinedInput-root.Mui-focused .MuiOutlinedInput-notchedOutline":{borderColor:t.palette.outline.main},backgroundColor:t.palette.field.main}})),f=()=>{const{userId:e}=(0,n.g)(),{isAuthenticated:t}=(0,o.useContext)(i.c),[a,s]=(0,o.useState)(""),[h,f]=(0,o.useState)(""),[y,A]=(0,o.useState)(""),[x,C]=(0,o.useState)(null),w=(0,n.Zp)(),I=(0,g.DP)();(0,o.useEffect)((()=>{(async()=>{try{const t=await(0,r.kl)(e);s(t.username),A(t.permissionLevel)}catch(x){console.error("Error fetching user details:",x),C("Error fetching user details. Please try again later.")}})()}),[e]);return(0,v.jsx)("div",{style:{backgroundColor:I.palette.background.bkg,minHeight:"100vh",display:"flex",flexDirection:"column"},children:(0,v.jsxs)(l.A,{component:"main",maxWidth:"xs",sx:{display:"flex",flexDirection:"column",alignItems:"center",mt:8,paddingTop:20},children:[(0,v.jsx)(c.A,{component:"h2",variant:"h5",children:"Edit User"}),(0,v.jsxs)(d.A,{component:"form",sx:{mt:1},children:[(0,v.jsx)(b,{margin:"normal",required:!0,fullWidth:!0,id:"username",label:"Username",name:"username",autoComplete:"username",autoFocus:!0,value:a,onChange:e=>{s(e.target.value)},theme:I}),(0,v.jsx)(b,{margin:"normal",fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"new-password",value:h,onChange:e=>{f(e.target.value)},theme:I}),(0,v.jsxs)(b,{select:!0,fullWidth:!0,margin:"normal",label:"Permission Level",value:y,onChange:e=>A(e.target.value),theme:I,children:[(0,v.jsx)(u.A,{value:"employee",children:"Employee"}),(0,v.jsx)(u.A,{value:"manager",children:"Manager"}),(0,v.jsx)(u.A,{value:"admin",children:"Admin"})]}),(0,v.jsx)(p.A,{fullWidth:!0,variant:"contained",style:{backgroundColor:I.palette.primary.main},onClick:async()=>{try{const t={username:a,password:h||void 0,permissionLevel:y},o=await(0,r.TK)(e,t);o.success?w("/UserPage"):C(o.msg)}catch(x){console.error("Error updating user:",x),C("Error updating user. Please try again later.")}},children:"Update User"})]}),(0,v.jsx)(m.A,{open:!!x,autoHideDuration:6e3,onClose:()=>C(null),message:x})]})})}},6446:(e,t,a)=>{a.d(t,{A:()=>y});var o=a(8168),n=a(8587),r=a(5043),i=a(1576),s=a(3174),l=a(8812),c=a(8698),d=a(8653),u=a(579);const p=["className","component"];var m=a(5430),g=a(8279),h=a(3375);const v=(0,a(7056).A)("MuiBox",["root"]),b=(0,g.A)(),f=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{themeId:t,defaultTheme:a,defaultClassName:m="MuiBox-root",generateClassName:g}=e,h=(0,s.default)("div",{shouldForwardProp:e=>"theme"!==e&&"sx"!==e&&"as"!==e})(l.A);return r.forwardRef((function(e,r){const s=(0,d.A)(a),l=(0,c.A)(e),{className:v,component:b="div"}=l,f=(0,n.A)(l,p);return(0,u.jsx)(h,(0,o.A)({as:b,ref:r,className:(0,i.A)(v,g?g(m):m),theme:t&&s[t]||s},f))}))}({themeId:h.A,defaultTheme:b,defaultClassName:v.root,generateClassName:m.A.generate}),y=f},6990:(e,t,a)=>{a.d(t,{A:()=>k});var o=a(8587),n=a(8168),r=a(5043),i=a(9292),s=a(8606),l=a(7266),c=a(4535),d=a(1475),u=a(2876),p=a(1347),m=a(1538),g=a(5013),h=a(5849),v=a(7056);const b=(0,v.A)("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]);const f=(0,v.A)("MuiListItemIcon",["root","alignItemsFlexStart"]);var y=a(5671),A=a(2400);function x(e){return(0,A.Ay)("MuiMenuItem",e)}const C=(0,v.A)("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]);var w=a(579);const I=["autoFocus","component","dense","divider","disableGutters","focusVisibleClassName","role","tabIndex","className"],M=(0,c.Ay)(m.A,{shouldForwardProp:e=>(0,d.A)(e)||"classes"===e,name:"MuiMenuItem",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:a}=e;return[t.root,a.dense&&t.dense,a.divider&&t.divider,!a.disableGutters&&t.gutters]}})((e=>{let{theme:t,ownerState:a}=e;return(0,n.A)({},t.typography.body1,{display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap"},!a.disableGutters&&{paddingLeft:16,paddingRight:16},a.divider&&{borderBottom:"1px solid ".concat((t.vars||t).palette.divider),backgroundClip:"padding-box"},{"&:hover":{textDecoration:"none",backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},["&.".concat(C.selected)]:{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.primary.mainChannel," / ").concat(t.vars.palette.action.selectedOpacity,")"):(0,l.X4)(t.palette.primary.main,t.palette.action.selectedOpacity),["&.".concat(C.focusVisible)]:{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.primary.mainChannel," / calc(").concat(t.vars.palette.action.selectedOpacity," + ").concat(t.vars.palette.action.focusOpacity,"))"):(0,l.X4)(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}},["&.".concat(C.selected,":hover")]:{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.primary.mainChannel," / calc(").concat(t.vars.palette.action.selectedOpacity," + ").concat(t.vars.palette.action.hoverOpacity,"))"):(0,l.X4)(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.primary.mainChannel," / ").concat(t.vars.palette.action.selectedOpacity,")"):(0,l.X4)(t.palette.primary.main,t.palette.action.selectedOpacity)}},["&.".concat(C.focusVisible)]:{backgroundColor:(t.vars||t).palette.action.focus},["&.".concat(C.disabled)]:{opacity:(t.vars||t).palette.action.disabledOpacity},["& + .".concat(b.root)]:{marginTop:t.spacing(1),marginBottom:t.spacing(1)},["& + .".concat(b.inset)]:{marginLeft:52},["& .".concat(y.A.root)]:{marginTop:0,marginBottom:0},["& .".concat(y.A.inset)]:{paddingLeft:36},["& .".concat(f.root)]:{minWidth:36}},!a.dense&&{[t.breakpoints.up("sm")]:{minHeight:"auto"}},a.dense&&(0,n.A)({minHeight:32,paddingTop:4,paddingBottom:4},t.typography.body2,{["& .".concat(f.root," svg")]:{fontSize:"1.25rem"}}))})),k=r.forwardRef((function(e,t){const a=(0,u.A)({props:e,name:"MuiMenuItem"}),{autoFocus:l=!1,component:c="li",dense:d=!1,divider:m=!1,disableGutters:v=!1,focusVisibleClassName:b,role:f="menuitem",tabIndex:y,className:A}=a,C=(0,o.A)(a,I),k=r.useContext(p.A),O=r.useMemo((()=>({dense:d||k.dense||!1,disableGutters:v})),[k.dense,d,v]),j=r.useRef(null);(0,g.A)((()=>{l&&j.current&&j.current.focus()}),[l]);const N=(0,n.A)({},a,{dense:O.dense,divider:m,disableGutters:v}),S=(e=>{const{disabled:t,dense:a,divider:o,disableGutters:r,selected:i,classes:l}=e,c={root:["root",a&&"dense",t&&"disabled",!r&&"gutters",o&&"divider",i&&"selected"]},d=(0,s.A)(c,x,l);return(0,n.A)({},l,d)})(a),L=(0,h.A)(j,t);let P;return a.disabled||(P=void 0!==y?y:-1),(0,w.jsx)(p.A.Provider,{value:O,children:(0,w.jsx)(M,(0,n.A)({ref:L,role:f,tabIndex:P,component:c,focusVisibleClassName:(0,i.A)(S.focusVisible,b),className:(0,i.A)(S.root,A)},C,{ownerState:N,classes:S}))})}))}}]);
//# sourceMappingURL=807.37bdeffd.chunk.js.map